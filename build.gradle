plugins {
    id 'java'
    id 'maven-publish'
}

group = 'com.softwareverde'
version = '10.8.3'

compileJava {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

repositories {
    mavenCentral()
}

dependencies { }

sourceSets {
    main {
        java
        resources
    }
    test {
        java
        resources

        compileClasspath += sourceSets.main.output
        runtimeClasspath += sourceSets.main.output
    }
}

task makeJar(type: Jar) {
    manifest {
        attributes  'Implementation-Title': 'Java MariaDb Binaries - OSX',
                    'Implementation-Version': archiveVersion
    }

    archiveBaseName = project.name

    duplicatesStrategy = DuplicatesStrategy.EXCLUDE

    from sourceSets.main.output

    with jar
}
